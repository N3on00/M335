<mxfile host="app.diagrams.net" modified="2026-02-17T00:00:00.000Z" agent="OpenCode" version="24.7.17">
  <diagram id="frontend-generic-architecture" name="Frontend Generic Architecture">
    <mxGraphModel dx="1800" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <mxCell id="10" value="Frontend Architecture (Generic-First)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f9fa;strokeColor=#b0b0b0;dashed=1;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="1740" height="1040" as="geometry" />
        </mxCell>

        <mxCell id="11" value="Composition Root" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f0fe;strokeColor=#6c8ebf;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="50" y="70" width="470" height="200" as="geometry" />
        </mxCell>
        <mxCell id="12" value="Generic UI Composition Framework" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="550" y="70" width="720" height="520" as="geometry" />
        </mxCell>
        <mxCell id="13" value="Generic Domain Runtime Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="1300" y="70" width="430" height="520" as="geometry" />
        </mxCell>
        <mxCell id="14" value="Cross-Cutting Runtime" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="1300" y="620" width="430" height="210" as="geometry" />
        </mxCell>
        <mxCell id="15" value="Generic Extension Rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;align=left;verticalAlign=top;spacingLeft=8;spacingTop=6;" vertex="1" parent="1">
          <mxGeometry x="50" y="620" width="1220" height="410" as="geometry" />
        </mxCell>

        <mxCell id="20" value="webapp/src/main.js&#xa;create app + router + provide context&#xa;watch persistence/runtime/theme" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="21" value="bootstrap/appBootstrap.js&#xa;AppContext + service/controller factories&#xa;register decorators, handlers, runtime, UI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="120" width="180" height="120" as="geometry" />
        </mxCell>

        <mxCell id="22" value="screenRegistry.js&#xa;createScreenModule()&#xa;screen lifecycle + default decorators" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="590" y="120" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="23" value="registrations/*.js&#xa;screen-slot registration + actions&#xa;buildProps callback wiring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="840" y="120" width="210" height="110" as="geometry" />
        </mxCell>
        <mxCell id="24" value="core/registry.js&#xa;component registry + action registry&#xa;screen/slot lookup" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1080" y="120" width="160" height="110" as="geometry" />
        </mxCell>

        <mxCell id="25" value="RegisteredScreenView.vue&#xa;route -> screen lifecycle&#xa;SlotScreenLayout rendering" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="620" y="290" width="250" height="100" as="geometry" />
        </mxCell>
        <mxCell id="26" value="componentDecoratorRegistry.js&#xa;error/navigation/action/behavior decorators&#xa;generic buildProps augmentation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="900" y="270" width="340" height="130" as="geometry" />
        </mxCell>
        <mxCell id="27" value="UIController&#xa;runAction() + getSlotComponents()&#xa;auth state checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="620" y="430" width="220" height="100" as="geometry" />
        </mxCell>

        <mxCell id="28" value="controllers/*.js&#xa;BaseController + domain controllers&#xa;state orchestration only" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1330" y="130" width="180" height="110" as="geometry" />
        </mxCell>
        <mxCell id="29" value="services/*.js&#xa;BaseService + domain services&#xa;business I/O + mapping" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1540" y="130" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="30" value="apiGatewayService.js&#xa;generic endpoint dispatch&#xa;uses API key + params/query/body" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1330" y="290" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="31" value="api/registry.js&#xa;endpoint metadata registry&#xa;method/path/auth/form flags" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1540" y="300" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="32" value="apiClient.js&#xa;fetch transport&#xa;auth header + unauthorized callback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1430" y="450" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="33" value="Backend API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1640" y="460" width="80" height="80" as="geometry" />
        </mxCell>

        <mxCell id="34" value="state/appState.js&#xa;reactive state shape + persistence helpers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1330" y="670" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="35" value="errorHandlerRegistry.js&#xa;screen-level strategy handlers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1540" y="670" width="170" height="55" as="geometry" />
        </mxCell>
        <mxCell id="36" value="runtimeService.js + runtimeRegistry.js&#xa;periodic tasks + notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1540" y="735" width="170" height="55" as="geometry" />
        </mxCell>

        <mxCell id="37" value="Rule A: Add a new screen with minimal boilerplate&#xa;1) Add route binding in routeSpec + router registry&#xa;2) Create registrations/&lt;screen&gt;Ui.js via createScreenModule()&#xa;3) Register widgets/actions by slot and lifecycle hooks&#xa;4) RegisteredScreenView renders dynamically via screen id" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ede7f6;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="700" width="1160" height="140" as="geometry" />
        </mxCell>
        <mxCell id="38" value="Rule B: Add backend communication without touching transport&#xa;1) Add endpoint key in api/registry.js&#xa;2) Use ApiGatewayService.request(key, params/query/body) in a domain service&#xa;3) Controller consumes service and updates state&#xa;4) Existing auth/error/decorator/runtime infrastructure is reused" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ede7f6;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="860" width="1160" height="140" as="geometry" />
        </mxCell>

        <mxCell id="100" value="build context" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="20" target="21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="101" value="register screens" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="21" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="102" value="screen modules" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="22" target="23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="103" value="register components/actions" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="23" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="104" value="render + lifecycle" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="24" target="25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="105" value="buildProps decorators" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="24" target="26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="106" value="dispatch action" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="27" target="28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="107" value="service orchestration" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="28" target="29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="108" value="generic request" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="29" target="30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="109" value="resolve endpoint binding" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="30" target="31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="110" value="HTTP transport" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="30" target="32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="111" value="fetch" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="32" target="33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="112" value="state read/write" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="27" target="34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="113" value="persist/update" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="29" target="34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="114" value="errors" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="26" target="35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="115" value="runtime ticks" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;strokeColor=#666666;" edge="1" parent="1" source="21" target="36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="116" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=open;dashed=1;strokeColor=#9673a6;" edge="1" parent="1" source="37" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=open;dashed=1;strokeColor=#9673a6;" edge="1" parent="1" source="37" target="25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="118" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=open;dashed=1;strokeColor=#9673a6;" edge="1" parent="1" source="38" target="31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=open;dashed=1;strokeColor=#9673a6;" edge="1" parent="1" source="38" target="30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
